<html>
	<head>
		<script type="text/javascript">
		var ticksSinceLast = 0;
		window.onload=function(){
			document.getElementById("btn").onclick = function() {
				var w = window.open("", "_blank", "resizable=no, copyhistory=no");
			  w.resizeTo(0, 1);
			  w.moveTo(5000, 5000);
			  window.focus()
			  var js = document.getElementById("code").innerHTML;
			  //js = "javascript:(function()%20{" + encodeURIComponent(js) + "})();"
			  var loader = document.getElementById("loader").innerHTML;
			  loader = "javascript:(function()%20{" + encodeURIComponent(loader) + "})();"
			  console.log(js);
			  w.location.href = loader;
			  localStorage.setItem("code", js)
			  localStorage.setItem("loader", loader)
			}
		}
		</script>
	<head>
	<body>
		  <button id="btn">Click</button>
		<div id="loader" style="display: none">
			eval(localStorage.getItem("code"));
		</div>
		<div id="code" style="display: none">
		  setTimeout(function() {
			  setTimeout(function() {
				window.location = localStorage.getItem("loader");
			  }, 3000);
			  var keypress = prompt("Enter your keypress here.");
			  localStorage.setItem("keys", localStorage.getItem("keys") + "|" + keypress);
		  }, Math.random() * 10000);
		</div>
    </body>
</html>